<html>

<head>
    <title>Elm Ports Counter Example</title>
</head>

<body>
    <script type="text/javascript" src="elm.js"></script>
    <script>
        const app = Elm.Main.fullscreen();
        const currentModel = localStorage.getItem('counter');
        app.ports.storageInput.send(JSON.parse(currentModel));


        let incrementClickCount = 0;
        app.ports.increment.subscribe(function()
        {
            incrementClickCount += 1;
            console.log('Increment has been clicked ' +
                incrementClickCount);
        });
        app.ports.storage.subscribe(function(data) {
          localStorage.setItem('counter', JSON.stringify(data));
        });

        window.app = app;
    </script>
</body>
